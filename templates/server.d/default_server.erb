<%
  symmkey      = scope['::splunk::symmkey']
  pass4symmkey = scope['::splunk::pass4symmkey']
  cluster_mode = scope['::splunk::cluster_mode']
  server_site  = scope['::splunk::server_site']
  ciphers      = scope['::splunk::legacyciphers']
  signature    = scope['::splunk::signatureversion']
-%>

[general]
serverName = <%= scope['::hostname'] %>
pass4SymmKey = <% if pass4symmkey != nil -%><%= pass4symmkey %><% else -%><%= symmkey %><% end %>
<% if cluster_mode == 'master' || cluster_mode == 'slave' -%>
site = <%= server_site %><% end %>
legacyCiphers = <%= ciphers %>

[node_auth]
signatureVersion = <%= signature %>
